---
title: "Fast Response para Ticket"
api: "POST https://worker.thenewscc.com/support/{id}/fast-response"
description: "Gera resposta de IA para um ticket espec√≠fico"
---

## Descri√ß√£o

Gera resposta autom√°tica com IA para um ticket existente, com op√ß√£o de salvar a resposta e enviar por email.

## Headers

<ParamField header="Authorization" type="string" required>
  Bearer token JWT para autentica√ß√£o
</ParamField>

<ParamField header="Content-Type" type="string" required>
  `application/json`
</ParamField>

## Path Parameters

<ParamField path="id" type="number" required>
  ID do ticket
</ParamField>

## Body Parameters

<ParamField body="salvar" type="boolean" default="false">
  Se deve salvar a resposta como mensagem no ticket
</ParamField>

<ParamField body="autor" type="string" default="IA Assistant">
  Identifica√ß√£o do autor da mensagem
</ParamField>

<ParamField body="enviar_email" type="boolean" default="false">
  Se deve enviar a resposta por email ao usu√°rio
  
  **Nota:** Funciona apenas se o ticket tem email e `salvar=true`
</ParamField>

## Response

<ResponseField name="success" type="boolean" required>
  Status da opera√ß√£o
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="Dados da resposta">
    <ResponseField name="ticket_id" type="number">
      ID do ticket processado
    </ResponseField>
    
    <ResponseField name="resposta" type="string">
      Resposta gerada pela IA em formato HTML (com tags `<p>`, `<strong>`, etc.)
    </ResponseField>
    
    <ResponseField name="confianca" type="number">
      N√≠vel de confian√ßa (0.0 a 1.0)
    </ResponseField>
    
    <ResponseField name="baseado_em_similares" type="boolean">
      Se usou tickets similares como base
    </ResponseField>
    
    <ResponseField name="tickets_similares_usados" type="number">
      Quantidade de tickets similares usados
    </ResponseField>
    
    <ResponseField name="salvo" type="boolean">
      Se a resposta foi salva no ticket
    </ResponseField>
    
    <ResponseField name="email_enviado" type="boolean">
      Se o email foi enviado
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash Preview Apenas
curl -X POST https://worker.thenewscc.com/support/12345/fast-response \
  -H "Authorization: Bearer seu_token_jwt" \
  -H "Content-Type: application/json" \
  -d '{}'
```

```bash Salvar Resposta
curl -X POST https://worker.thenewscc.com/support/12345/fast-response \
  -H "Authorization: Bearer seu_token_jwt" \
  -H "Content-Type: application/json" \
  -d '{
    "salvar": true,
    "autor": "Suporte IA"
  }'
```

```bash Salvar e Enviar Email
curl -X POST https://worker.thenewscc.com/support/12345/fast-response \
  -H "Authorization: Bearer seu_token_jwt" \
  -H "Content-Type: application/json" \
  -d '{
    "salvar": true,
    "autor": "Suporte IA",
    "enviar_email": true
  }'
```

</RequestExample>

<ResponseExample>

```json Preview
{
  "success": true,
  "data": {
    "ticket_id": 12345,
    "resposta": "<p>verificamos seu problema de login. o erro 500 indica um problema tempor√°rio em nossos servidores.</p><p>por favor, tente novamente em alguns minutos. se persistir, use a op√ß√£o <strong>esqueci minha senha</strong>.</p>",
    "confianca": 0.92,
    "baseado_em_similares": true,
    "tickets_similares_usados": 5,
    "salvo": false
  }
}
```

```json Resposta Salva com Email
{
  "success": true,
  "data": {
    "ticket_id": 12345,
    "resposta": "<p>identificamos o problema com sua assinatura e j√° corrigimos! üéâ</p><p>voc√™ deve receber as pr√≥ximas edi√ß√µes normalmente.</p>",
    "confianca": 0.88,
    "baseado_em_similares": true,
    "tickets_similares_usados": 4,
    "salvo": true,
    "email_enviado": true
  }
}
```

```json Error - Ticket N√£o Encontrado
{
  "success": false,
  "message": "Ticket nao encontrado"
}
```

</ResponseExample>

## Notas

<Note>
  As respostas geradas pela IA s√£o retornadas em **formato HTML** com tags como `<p>`, `<strong>`, `<em>`, `<ol>`, `<ul>`. Isso garante formata√ß√£o adequada no frontend e nos emails enviados.
</Note>

<Note>
  Quando `salvar=true` e `enviar_email=true`, se o email for enviado com sucesso, o status do ticket √© automaticamente alterado para **`resolved`**.
</Note>