---
title: "Submeter Respostas"
api: "POST https://sac-waffle-v2.theo-110.workers.dev/quiz/submit"
description: "Submete as respostas do usu√°rio para um quiz e verifica se passou"
---

## Descri√ß√£o

Submete as respostas do usu√°rio para um quiz espec√≠fico. O sistema verifica cada resposta, calcula a pontua√ß√£o e determina se o usu√°rio passou. Se passou, o streak √© automaticamente recuperado para a data do quiz.

Cada usu√°rio pode submeter respostas para um quiz apenas **uma vez**. Tentativas subsequentes retornam erro 403.

## Headers

<ParamField header="Authorization" type="string" required>
  Token JWT do usu√°rio autenticado

  Formato: `Bearer {token}`
</ParamField>

<ParamField header="Content-Type" type="string" required>
  Tipo de conte√∫do da requisi√ß√£o

  Valor: `application/json`
</ParamField>

## Body Parameters

<ParamField body="quizId" type="string" required>
  ID do quiz que est√° sendo respondido
</ParamField>

<ParamField body="answers" type="array" required>
  Array com as respostas do usu√°rio

  <Expandable title="Estrutura de cada resposta">
    <ParamField body="fieldId" type="string" required>
      ID da pergunta
    </ParamField>
    <ParamField body="answer" type="string" required>
      Resposta selecionada pelo usu√°rio (deve ser exatamente igual a uma das op√ß√µes)
    </ParamField>
  </Expandable>
</ParamField>

## Response

<ResponseField name="success" type="boolean" required>
  Indica se a opera√ß√£o foi bem-sucedida
</ResponseField>

<ResponseField name="message" type="string" required>
  Mensagem descritiva do resultado
</ResponseField>

<ResponseField name="data" type="object" required>
  <Expandable title="Dados do resultado">
    <ResponseField name="totalQuestions" type="number" required>
      Total de perguntas no quiz (10)
    </ResponseField>

    <ResponseField name="correctAnswers" type="number" required>
      Quantidade de respostas corretas
    </ResponseField>

    <ResponseField name="passed" type="boolean" required>
      Se o usu√°rio passou (acertos >= minCorrectAnswers)
    </ResponseField>

    <ResponseField name="minRequired" type="number" required>
      M√≠nimo de acertos necess√°rios (6)
    </ResponseField>

    <ResponseField name="streakRecovered" type="boolean" required>
      Se o streak foi recuperado automaticamente
    </ResponseField>

    <ResponseField name="details" type="array" required>
      Detalhes de cada pergunta com corre√ß√£o
      <Expandable title="Estrutura de cada detalhe">
        <ResponseField name="fieldId" type="string">
          ID da pergunta
        </ResponseField>
        <ResponseField name="question" type="string">
          Texto da pergunta
        </ResponseField>
        <ResponseField name="userAnswer" type="string">
          Resposta do usu√°rio
        </ResponseField>
        <ResponseField name="correctAnswer" type="string">
          Resposta correta
        </ResponseField>
        <ResponseField name="isCorrect" type="boolean">
          Se a resposta estava correta
        </ResponseField>
        <ResponseField name="explanation" type="string">
          Explica√ß√£o da resposta correta
        </ResponseField>
      </Expandable>
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash cURL
curl -X POST https://sac-waffle-v2.theo-110.workers.dev/quiz/submit \
  -H "Authorization: Bearer seu_token_jwt" \
  -H "Content-Type: application/json" \
  -d '{
    "quizId": "quiz_abc123",
    "answers": [
      {"fieldId": "q1_abc123", "answer": "openai"},
      {"fieldId": "q2_abc123", "answer": "r$ 100 milh√µes"},
      {"fieldId": "q3_abc123", "answer": "brasil"},
      {"fieldId": "q4_abc123", "answer": "intelig√™ncia artificial"},
      {"fieldId": "q5_abc123", "answer": "elon musk"},
      {"fieldId": "q6_abc123", "answer": "2025"},
      {"fieldId": "q7_abc123", "answer": "s√£o paulo"},
      {"fieldId": "q8_abc123", "answer": "fintech"},
      {"fieldId": "q9_abc123", "answer": "5 bilh√µes"},
      {"fieldId": "q10_abc123", "answer": "google"}
    ]
  }'
```

```javascript JavaScript
const response = await fetch('https://sac-waffle-v2.theo-110.workers.dev/quiz/submit', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer seu_token_jwt',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    quizId: 'quiz_abc123',
    answers: [
      { fieldId: 'q1_abc123', answer: 'openai' },
      { fieldId: 'q2_abc123', answer: 'r$ 100 milh√µes' },
      // ... outras respostas
    ]
  })
});

const data = await response.json();
```

</RequestExample>

<ResponseExample>

```json Passou (Streak Recuperado)
{
  "success": true,
  "message": "parab√©ns! voc√™ acertou o suficiente e seu streak foi recuperado! üéâ",
  "data": {
    "totalQuestions": 10,
    "correctAnswers": 8,
    "passed": true,
    "minRequired": 6,
    "streakRecovered": true,
    "details": [
      {
        "fieldId": "q1_abc123",
        "question": "qual empresa anunciou uma nova parceria estrat√©gica com a microsoft?",
        "userAnswer": "openai",
        "correctAnswer": "openai",
        "isCorrect": true,
        "explanation": "a openai anunciou uma extens√£o da parceria com a microsoft no valor de mais us$ 10 bilh√µes."
      },
      {
        "fieldId": "q2_abc123",
        "question": "qual foi o valor do investimento anunciado pela startup brasileira?",
        "userAnswer": "r$ 100 milh√µes",
        "correctAnswer": "r$ 200 milh√µes",
        "isCorrect": false,
        "explanation": "a startup recebeu r$ 200 milh√µes em sua s√©rie c, liderada pelo softbank."
      }
    ]
  }
}
```

```json N√£o Passou
{
  "success": true,
  "message": "voc√™ acertou 4 de 10 perguntas. eram necess√°rios 6 acertos para recuperar o streak.",
  "data": {
    "totalQuestions": 10,
    "correctAnswers": 4,
    "passed": false,
    "minRequired": 6,
    "streakRecovered": false,
    "details": [
      {
        "fieldId": "q1_abc123",
        "question": "qual empresa anunciou uma nova parceria estrat√©gica com a microsoft?",
        "userAnswer": "google",
        "correctAnswer": "openai",
        "isCorrect": false,
        "explanation": "a openai anunciou uma extens√£o da parceria com a microsoft."
      }
    ]
  }
}
```

```json Already Attempted
{
  "success": false,
  "message": "voc√™ j√° tentou este quiz. cada quiz pode ser tentado apenas uma vez."
}
```

```json Bad Request
{
  "success": false,
  "message": "quizId e answers s√£o obrigat√≥rios"
}
```

```json Not Found
{
  "success": false,
  "message": "quiz n√£o encontrado"
}
```

</ResponseExample>

<Warning>
  As respostas devem ser **exatamente iguais** √†s op√ß√µes retornadas no endpoint GET /quiz/:id. A compara√ß√£o √© case-sensitive.
</Warning>

<Tip>
  O streak √© recuperado automaticamente quando o usu√°rio passa no quiz. N√£o √© necess√°rio chamar nenhum endpoint adicional.
</Tip>
