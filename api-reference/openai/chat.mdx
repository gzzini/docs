---
title: "Chat Completion"
api: "POST https://sac-waffle-v2.theo-110.workers.dev/openai/chat"
description: "Executa chat completion b√°sico com OpenAI GPT"
---

## Descri√ß√£o

Endpoint para chat completion simples usando modelos GPT da OpenAI. Ideal para perguntas diretas, gera√ß√£o de texto e tarefas que n√£o requerem tools ou contexto adicional.

## Headers

<ParamField header="Authorization" type="string" required>
  Bearer token JWT para autentica√ß√£o
</ParamField>

<ParamField header="Content-Type" type="string" required>
  `application/json`
</ParamField>

## Body Parameters

<ParamField body="prompt" type="string" required>
  Mensagem ou prompt para o modelo processar
  
  **Dicas:**
  - Seja claro e espec√≠fico
  - Forne√ßa contexto quando necess√°rio
  - Use exemplos para melhor resultado
</ParamField>

<ParamField body="systemPrompt" type="string">
  Instru√ß√µes do sistema para configurar o comportamento do modelo
  
  **Exemplo:**
  ```
  Voc√™ √© um assistente √∫til que responde em portugu√™s brasileiro.
  Seja conciso e direto nas respostas.
  ```
</ParamField>

<ParamField body="model" type="string" default="gpt-4o-mini">
  Modelo GPT a ser usado
  
  **Op√ß√µes:**
  - `gpt-4o-mini` - R√°pido e econ√¥mico (recomendado)
  - `gpt-4o` - Mais avan√ßado
  - `gpt-4-turbo` - Vers√£o anterior
  - `gpt-3.5-turbo` - Legacy, mais barato
</ParamField>

<ParamField body="temperature" type="number" default="0.7">
  Controla a criatividade das respostas (0.0 a 2.0)
  
  **Valores comuns:**
  - `0.0` - Determin√≠stico, sempre a mesma resposta
  - `0.3` - Pouca varia√ß√£o
  - `0.7` - Balanceado (padr√£o)
  - `1.0` - Criativo
  - `1.5+` - Muito criativo, pode ser imprevis√≠vel
</ParamField>

<ParamField body="maxTokens" type="number" default="4096">
  N√∫mero m√°ximo de tokens na resposta
  
  **Considera√ß√µes:**
  - 1 token ‚âà 0.75 palavras
  - Limitar reduz custos
  - M√°ximo depende do modelo
</ParamField>

<ParamField body="responseFormat" type="object">
  Formato da resposta (opcional)
  
  <Expandable title="Op√ß√µes de formato">
    <ParamField body="type" type="string">
      Tipo de formato
      
      **Valores:**
      - `text` - Texto livre (padr√£o)
      - `json_object` - For√ßa resposta em JSON v√°lido
    </ParamField>
  </Expandable>
</ParamField>

## Response

<ResponseField name="success" type="boolean" required>
  Indica se a opera√ß√£o foi bem-sucedida
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="Dados da resposta">
    <ResponseField name="content" type="string">
      Resposta gerada pelo modelo
    </ResponseField>
    
    <ResponseField name="usage" type="object">
      <Expandable title="Estat√≠sticas de uso">
        <ResponseField name="promptTokens" type="number">
          Tokens usados no prompt
        </ResponseField>
        
        <ResponseField name="completionTokens" type="number">
          Tokens gerados na resposta
        </ResponseField>
        
        <ResponseField name="totalTokens" type="number">
          Total de tokens consumidos
        </ResponseField>
      </Expandable>
    </ResponseField>
    
    <ResponseField name="finishReason" type="string">
      Motivo do t√©rmino da gera√ß√£o
      
      **Valores:**
      - `stop` - Completou normalmente
      - `length` - Atingiu limite de tokens
      - `content_filter` - Bloqueado por filtro
      - `tool_calls` - Chamou uma tool (n√£o aplic√°vel aqui)
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash Exemplo B√°sico
curl -X POST https://sac-waffle-v2.theo-110.workers.dev/openai/chat \
  -H "Authorization: Bearer seu_token_jwt" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "Explique o que √© uma newsletter em 2 frases"
  }'
```

```bash Com System Prompt
curl -X POST https://sac-waffle-v2.theo-110.workers.dev/openai/chat \
  -H "Authorization: Bearer seu_token_jwt" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "Como criar um componente React?",
    "systemPrompt": "Voc√™ √© um expert em React. Sempre inclua TypeScript e melhores pr√°ticas.",
    "model": "gpt-4o-mini",
    "temperature": 0.3
  }'
```

```bash JSON Mode
curl -X POST https://sac-waffle-v2.theo-110.workers.dev/openai/chat \
  -H "Authorization: Bearer seu_token_jwt" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "Liste 3 benef√≠cios de newsletters em formato JSON com campos: titulo e descricao",
    "model": "gpt-4o-mini",
    "responseFormat": {
      "type": "json_object"
    }
  }'
```

</RequestExample>

<ResponseExample>

```json Resposta Simples
{
  "success": true,
  "data": {
    "content": "Uma newsletter √© uma publica√ß√£o peri√≥dica enviada por email para assinantes com conte√∫do relevante sobre temas espec√≠ficos. Ela permite que empresas e criadores mantenham contato direto com seu p√∫blico, compartilhando not√≠cias, insights e atualiza√ß√µes de forma regular.",
    "usage": {
      "promptTokens": 18,
      "completionTokens": 52,
      "totalTokens": 70
    },
    "finishReason": "stop"
  }
}
```

```json Resposta JSON
{
  "success": true,
  "data": {
    "content": "{\"beneficios\":[{\"titulo\":\"Comunica√ß√£o Direta\",\"descricao\":\"Permite contato direto com o p√∫blico sem depender de algoritmos de redes sociais\"},{\"titulo\":\"Engajamento Alto\",\"descricao\":\"Emails t√™m taxas de abertura superiores a outras formas de comunica√ß√£o digital\"},{\"titulo\":\"Constru√ß√£o de Autoridade\",\"descricao\":\"Estabelece expertise e credibilidade ao compartilhar conte√∫do valioso regularmente\"}]}",
    "usage": {
      "promptTokens": 32,
      "completionTokens": 98,
      "totalTokens": 130
    },
    "finishReason": "stop"
  }
}
```

```json Erro - Prompt Faltando
{
  "success": false,
  "error": "Prompt √© obrigat√≥rio"
}
```

```json Erro - Token Limit
{
  "success": true,
  "data": {
    "content": "[resposta parcial truncada...]",
    "usage": {
      "promptTokens": 50,
      "completionTokens": 4096,
      "totalTokens": 4146
    },
    "finishReason": "length"
  }
}
```

</ResponseExample>

## Use Cases

### üìù Gera√ß√£o de Conte√∫do
```json
{
  "prompt": "Escreva um par√°grafo sobre os benef√≠cios de ler newsletters di√°rias",
  "temperature": 0.8
}
```

### üí° Respostas T√©cnicas
```json
{
  "prompt": "Explique o conceito de webhooks em programa√ß√£o",
  "temperature": 0.3,
  "maxTokens": 500
}
```

### üìä An√°lise de Dados
```json
{
  "prompt": "Analise estes n√∫meros de engajamento: Opens: 45%, Clicks: 12%, Unsubscribe: 0.5%",
  "systemPrompt": "Voc√™ √© um analista de marketing digital",
  "model": "gpt-4o"
}
```

### üîÑ Tradu√ß√£o
```json
{
  "prompt": "Traduza para ingl√™s: 'Nosso boletim informativo √© enviado toda manh√£'",
  "temperature": 0.1
}
```

## Dicas de Otimiza√ß√£o

1. **Reduza custos**: Use `gpt-4o-mini` sempre que poss√≠vel
2. **Cache respostas**: Implemente cache para prompts repetidos
3. **Limite tokens**: Defina `maxTokens` apropriado para sua necessidade
4. **Temperature baixa**: Para tarefas factuais, use 0.0-0.3
5. **Batch requests**: Agrupe m√∫ltiplas perguntas em um prompt quando poss√≠vel