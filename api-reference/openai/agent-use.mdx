---
title: "Usar Agente"
api: "POST https://worker.thenewscc.com/openai/agent/{agentName}"
description: "Chat usando agente pr√©-configurado"
---

## Descri√ß√£o

Executa chat usando um agente pr√©-configurado com system prompt e configura√ß√µes espec√≠ficas.

## Headers

<ParamField header="Authorization" type="string" required>
  Bearer token JWT para autentica√ß√£o
</ParamField>

<ParamField header="Content-Type" type="string" required>
  `application/json`
</ParamField>

## Path Parameters

<ParamField path="agentName" type="string" required>
  Nome do agente a usar
  
  **Agentes pr√©-configurados:**
  - `support-assistant` - Assistente de suporte ao cliente
  - `analytics-assistant` - Assistente de an√°lise de dados
</ParamField>

## Body Parameters

<ParamField body="prompt" type="string" required>
  Mensagem para o agente processar
</ParamField>

## Response

<ResponseField name="success" type="boolean" required>
  Status da opera√ß√£o
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="Dados da resposta">
    <ResponseField name="agent" type="string">
      Nome do agente usado
    </ResponseField>
    
    <ResponseField name="content" type="string">
      Resposta gerada pelo agente
    </ResponseField>
    
    <ResponseField name="toolResults" type="array">
      Resultados de tools executadas (se aplic√°vel)
    </ResponseField>
    
    <ResponseField name="usage" type="object">
      <Expandable title="Estat√≠sticas de uso">
        <ResponseField name="promptTokens" type="number">
          Tokens no prompt
        </ResponseField>
        
        <ResponseField name="completionTokens" type="number">
          Tokens na resposta
        </ResponseField>
        
        <ResponseField name="totalTokens" type="number">
          Total de tokens
        </ResponseField>
      </Expandable>
    </ResponseField>
    
    <ResponseField name="finishReason" type="string">
      Motivo do t√©rmino
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash Support Assistant
curl -X POST https://worker.thenewscc.com/openai/agent/support-assistant \
  -H "Authorization: Bearer seu_token_jwt" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "Como funciona o programa de indica√ß√µes?"
  }'
```

```bash Analytics Assistant
curl -X POST https://worker.thenewscc.com/openai/agent/analytics-assistant \
  -H "Authorization: Bearer seu_token_jwt" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "Analise estes dados: Opens 45%, Clicks 12%"
  }'
```

</RequestExample>

<ResponseExample>

```json Support Assistant
{
  "success": true,
  "data": {
    "agent": "support-assistant",
    "content": "ol√°! o programa de indica√ß√µes do waffle √© super simples!\n\nvoc√™ compartilha seu link √∫nico com amigos e quando eles se inscrevem, voc√™s dois ganham benef√≠cios:\n\n- voc√™ acumula pontos para trocar por pr√™mios\n- seu amigo ganha desconto ou per√≠odo gr√°tis\n- quanto mais indica, mais recompensas\n\ncada newsletter tem suas pr√≥prias vantagens. quer come√ßar a indicar?",
    "toolResults": [],
    "usage": {
      "promptTokens": 142,
      "completionTokens": 98,
      "totalTokens": 240
    },
    "finishReason": "stop"
  }
}
```

```json Analytics Assistant
{
  "success": true,
  "data": {
    "agent": "analytics-assistant",
    "content": "## An√°lise de Engajamento\n\n### M√©tricas:\n- **Taxa de Abertura: 45%** ‚úÖ Excelente (2x m√©dia)\n- **Taxa de Cliques: 12%** ‚úÖ Muito Bom (4x m√©dia)\n- **CTR (Click-to-Open): 26.7%** üéÜ Excepcional\n\n### Insights:\n1. Alto engajamento indica conte√∫do relevante\n2. CTR de 26.7% mostra forte call-to-action\n3. Audi√™ncia qualificada e interessada\n\n### Recomenda√ß√µes:\n- Mantenha a estrat√©gia atual\n- Teste segmenta√ß√£o para os 55% inativos\n- Considere aumentar frequ√™ncia",
    "toolResults": [],
    "usage": {
      "promptTokens": 168,
      "completionTokens": 142,
      "totalTokens": 310
    },
    "finishReason": "stop"
  }
}
```

```json Error - Agente N√£o Encontrado
{
  "success": false,
  "error": "Agente 'custom-agent' n√£o encontrado",
  "availableAgents": [
    "support-assistant",
    "analytics-assistant"
  ]
}
```

</ResponseExample>